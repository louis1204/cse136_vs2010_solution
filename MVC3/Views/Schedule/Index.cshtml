@model List<MVC3.Models.PLSchedule>

@{
  ViewBag.Title = "Index";
  Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Index</h2>
@Html.ActionLink("Refresh", "Index")
<br />
<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
@Html.Partial("StudentEnrollment", (MVC3.Models.PLStudent)ViewBag.student)

@using (Html.BeginForm("Index", "Schedule"))
{
      <h2>Schedule</h2>
      <table>
          <tr>
              <th></th>
              <th>
                  Schedule ID
              </th>
              <th>
                @Html.DropDownList("yearFilter", (List<SelectListItem>)ViewData["YearList"], new { onchange = "this.form.submit()" })
              </th>
              <th>
                @Html.DropDownList("quarterFilter", (List<SelectListItem>)ViewData["QuarterList"], new { onchange = "this.form.submit()" })
              </th>
              <th>
                  Session
              </th>
              <th>
                  Course Title
              </th>
              <th>
                  Description
              </th>
          </tr>
          @foreach (var item in Model) { 
          <tr>
              <td>
                  @Html.ActionLink("Add", "Enroll", "Student", new { schedule_id = item.schedule_id }, null) 
              </td>
              <td>
                  @item.schedule_id
              </td>
              <td>
                  @item.year
              </td>
              <td>
                  @item.quarter
              </td>
              <td>
                  @item.session
              </td>
              <td>
                  @item.course_title
              </td>
              <td>
                  @item.course_description
              </td>
          </tr>
          }
      </table>
}
